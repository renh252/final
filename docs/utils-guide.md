# Utils 工具函數使用指南

## cn 函數 (Class Name Utility)

### 簡介

`cn` 函數是一個用於管理和組合 CSS 類名的工具函數，基於 `clsx` 庫實現。這個函數可以幫助我們更有效地管理組件的樣式，特別是在需要根據不同條件動態改變樣式的場景。

### 當前位置

```
app/lib/utils.ts
```

### 功能特點

- 支援條件性類名組合
- 支援多種輸入類型（字符串、對象、數組等）
- 自動過濾無效值（false、null、undefined）
- 提供類型安全（TypeScript 支援）

### 使用場景建議

在後續的重構過程中，建議在以下場景使用 `cn` 函數：

1. **組件狀態管理**

   - 按鈕狀態（正常、懸停、禁用等）
   - 表單驗證狀態（正常、錯誤、警告等）
   - 導航項目的激活狀態

2. **數據展示組件**

   - 表格行的選中狀態
   - 卡片的加載狀態
   - 列表項的交互狀態

3. **系統反饋**
   - 提示訊息的不同類型（成功、錯誤、警告）
   - 加載狀態的視覺反饋
   - 操作結果的狀態展示

### 使用示例

```typescript
// 基本使用
const className = cn('base-class', {
  active: isActive,
  disabled: isDisabled,
})

// 條件組合
const buttonClass = cn(
  'btn',
  variant === 'primary' && 'btn-primary',
  variant === 'secondary' && 'btn-secondary',
  size === 'large' && 'btn-lg'
)
```

### 重構建議

在進行代碼重構時，建議：

1. **統一樣式管理**

   - 將重複的類名組合抽取為可重用的函數
   - 建立統一的樣式管理模式

2. **組件封裝**

   - 在基礎組件中統一使用 `cn` 進行類名管理
   - 確保組件的樣式邏輯一致性

3. **類型定義**
   - 為常用的類名組合定義 TypeScript 類型
   - 確保類名使用的類型安全

### 注意事項

- 避免在單個組件中過度使用條件類名
- 保持類名的語義化和可讀性
- 確保類名的組合邏輯清晰

## 未來擴展方向

1. **樣式系統整合**

   - 與 Tailwind CSS 等工具更好地整合
   - 建立更完整的樣式管理系統

2. **組件庫建設**

   - 將 `cn` 函數作為基礎工具，建立統一的組件庫
   - 實現更豐富的樣式組合功能

3. **開發體驗優化**

   - 添加更多輔助函數
   - 提供更好的開發時類型提示

4. **性能優化**
   - 緩存常用的類名組合
   - 減少運行時的計算開銷
